c++11定义std::mutex mtx对象用于保护全局变量，对于想访问变量的线程，先进行mtx.lock()加锁，如果加锁成功，则进行counter的读写，读写操作完成后释放锁mtx.unlock()；如果加锁不成功，则线程阻塞，直到加锁成功。
![](file:///C:\Users\mi\AppData\Local\Temp\ksohtml14008\wps3.jpg)![](file:///C:\Users\mi\AppData\Local\Temp\ksohtml14008\wps4.jpg)