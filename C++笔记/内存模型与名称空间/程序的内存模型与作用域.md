#### 1 程序的内存模型
- **内存分区的意义**：不同区存放的数据，赋予不同的生命周期，给编程更多灵活性；
#### 1.1 程序运行前
程序编译后生成exe可执行程序，未执行程序前内存区分为两部分：
- **代码区**（运行前分配）：存放代码的二进制文件（cpu机器指令/可执行程序），共享（内存只保存一份代码）/只读（不可修改），由操作系统管理；
![[Pasted image 20220607162256.png]]
- **全局区**（运行前分配）：全局变量（g_a，定义在main函数外的变量），静态变量（static修饰），常量区(字符串常量和const全局常量)，程序结束后由操作系统释放；


#### 1.2 程序运行时
![[Pasted image 20220607162215.png]]
- **（3）栈区**（运行时编译器分配）：函数执行完后由编译器分配释放（不要return &a），包含函数的参数值，局部变量和局部常量等；

- **（4）堆区**（运行时程序员分配）：由程序员分配释放malloc, int *p = new int(10)，需要手动释放(程序结束后由操作系统释放)；

#### 2 作用域
- **分类**：全局作用域/局部作用域/语句作用域/类作用域/命名作用域/文件作用域

- **全局变量**：全局作用域，整个程序运行周期中存在，在一个源文件中定义，在其他源文件中可以extern声明；

- **局部变量**：局部作用域，只在函数调用期间存在；

- **静态全局变量**：文件作用域，整个程序运行期间存在，只在文件内部有效；

- **静态局部变量**：局部作用域，整个程序运行期间存在，只在函数内部有效；

#### 3 static关键字

（1）**保持变量持久**：程序运行期间存在，唯一初始化默认为0；

（2）**隐藏**：只对文件/函数/类可见；不同文件可以用相同的静态函数名；避免命名冲突；