#### 1 C++对象模型
##### 1.1 成员变量和成员函数分开存储
只有非静态成员变量属于类的对象，函数（所有对象共用一个函数实例）和静态成员变量不属于（空对象占一字节）；
```cpp
class Person {
public:
    // 静态成员函数，不占对象空间
    static void func1();
    // 静态成员变量，不占对象空间
    static int s_a_;
    // 非静态成员函数，所有对象共用一份实例，不占对象空间
    void func2();
private:
    // 非静态成员变量，占对象空间
    int b_;
};
// 静态成员变量一定要类外初始化
int Person::s_a_ = 10;

void test01() {
    Person p; // 空对象占一个字节，只有非静态变量占对象内存
    cout << "sizeof(p): " << sizeof(p) << endl;
}
```
stdout:
```cpp
sizeof(p): 4
```

#### 2 This指针
- **定义**：指向调用成员函数对象的指针，隐含在每一个非静态成员函数里，无须定义，可直接使用；
- **作用**：（1）形参和成员变量同名时可解决命名冲突```this->val```;
             （2）返回对象本身```return *this```;
![[Pasted image 20220612095226.png]]
- **注意事项**：隐含在每一个非静态成员函数里，无须定义，可直接使用；

- **空指针调用成员函数**：空对象指针可以调成员函数，但不能包含成员变量（this为空）；

- **常函数和常对象**：const常函数不能修改成员变量（mutable除外），常对象只能调用常函数；