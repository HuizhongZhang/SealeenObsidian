#### 多态与虚函数

#### 1 多态的定义
- **静态多态**：编译阶段确定函数地址，函数重载和操作符重载；

- **动态多态**：运行阶段确定函数地址，虚函数（virtual 返回类型 函数名（参数列表），子类重写父类的虚函数，父类指针指向子类对象 Base *p = son）和派生类；

#### 2 虚函数
- **虚函数与虚函数指针**：virtual虚函数会定义vfptr虚函数指针（4bit），指向虚函数表vftable中（记录父类的虚函数地址）;当子类重写虚函数后，子类的虚函数表里的内容被替换成子类的虚函数地址；因此父类指针调用的是子类的虚函数，实现了多态；

- **纯虚函数与抽象类：**（父类中的虚函数一般不调用）virtual 返回类型 函数名（参数列表） = 0，存在纯虚函数的类称为抽象类（有虚析构或者纯虚析构也属于抽象类），不能实例化对象（子类必须重写纯虚函数，否则也为抽象类）；

- **虚析构与纯虚析构**：子类有堆区数据时，父类指针指向子类对象时，无法调用子类对象的析构函数，此时父类需要使用虚析构，virtual ~Base(); 纯虚析构也需要实现；